Rem  drv: <migrate type="data_upgrade" version="13.1.0.0" />
Rem
Rem emaas_savesearch_seed_data_ta.sql
Rem
Rem Copyright (c) 2013, 2014, Oracle and/or its affiliates. 
Rem All rights reserved.
Rem
Rem    NAME
Rem      emaas_savesearch_seed_data_ta.sql 
Rem
Rem    DESCRIPTION
Rem      Seed data for Target Analytics
Rem
Rem    NOTES
Rem      None
Rem
Rem    MODIFIED   (MM/DD/YY)
Rem    miayu       07/02/14 - Created for Target Analytics
Rem


-- folder id between 300 - 399 are reserved for Target Analytics
Insert into EMS_ANALYTICS_FOLDERS (FOLDER_ID,NAME,PARENT_ID,DESCRIPTION,CREATION_DATE,OWNER,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_FOLDER,EM_PLUGIN_ID,UI_HIDDEN) values (301,'Databases',4,null,SYS_EXTRACT_UTC(SYSTIMESTAMP),null,SYS_EXTRACT_UTC(SYSTIMESTAMP),null,null,null,null,null,0,null,0);
Insert into EMS_ANALYTICS_FOLDERS (FOLDER_ID,NAME,PARENT_ID,DESCRIPTION,CREATION_DATE,OWNER,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_FOLDER,EM_PLUGIN_ID,UI_HIDDEN) values (302,'Middleware',4,null,SYS_EXTRACT_UTC(SYSTIMESTAMP),null,SYS_EXTRACT_UTC(SYSTIMESTAMP),null,null,null,null,null,0,null,0);
Insert into EMS_ANALYTICS_FOLDERS (FOLDER_ID,NAME,PARENT_ID,DESCRIPTION,CREATION_DATE,OWNER,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_FOLDER,EM_PLUGIN_ID,UI_HIDDEN) values (300,'Servers, Storage and Network',4,null,SYS_EXTRACT_UTC(SYSTIMESTAMP),null,SYS_EXTRACT_UTC(SYSTIMESTAMP),null,null,null,null,null,0,null,0);


-- search id 3000 - 3999 are reserved for TA searches
Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,METADATA_CLOB,SEARCH_DISPLAY_STR,UI_HIDDEN) values (3000,'Host with OS Patch Level','SYSMAN',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'SYSMAN',null,300,2,null,null,null,null,0,null,0,null,'{\"version\":0.5,\"criteria\":[{\"jsonConstructor\":\"TargetTypeSearchCriterion\",\"data\":{\"id\":\"target_type\",\"_value\":{\"jsonConstructor\":\"CriterionExpression\",\"data\":{\"type\":\"in\",\"values\":[{\"jsonConstructor\":\"CriterionValue\",\"data\":{\"value\":\"host\",\"metadata\":{\"category\":false},\"displayValue\":\"Host\"}}]}},\"dataType\":\"string\",\"displayName\":\"Target Type\",\"displayDetails\":null}},{\"jsonConstructor\":\"TargetStatusSearchCriterion\",\"data\":{\"id\":\"target_status\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Target Status\",\"displayDetails\":null}},{\"jsonConstructor\":\"MetricGroupSearchCriterion\",\"data\":{\"id\":\"host__Osconfig_osPatchLevel\",\"_value\":null,\"dataType\":\"string\",\"displayName\":\"OS Patch Level\",\"displayDetails\":\"_OSConfig\",\"targetType\":\"host\",\"mcName\":\"osPatchLevel\",\"mgName\":\"_Osconfig\",\"mgDisplayName\":\"_OSConfig\",\"isKey\":0,\"groupKeyColumns\":[]}}]}',0);
Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,METADATA_CLOB,SEARCH_DISPLAY_STR,UI_HIDDEN) values (3001,'Database with Patch Applied','SYSMAN',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'SYSMAN',null,301,2,null,null,null,null,0,null,0,null,'{\"version\":0.5,\"criteria\":[{\"jsonConstructor\":\"TargetTypeSearchCriterion\",\"data\":{\"id\":\"target_type\",\"_value\":{\"jsonConstructor\":\"CriterionExpression\",\"data\":{\"type\":\"in\",\"values\":[{\"jsonConstructor\":\"CriterionValue\",\"data\":{\"value\":\"oracle_database\",\"metadata\":{\"category\":false},\"displayValue\":\"Database Instance\"}}]}},\"dataType\":\"string\",\"displayName\":\"Target Type\",\"displayDetails\":null}},{\"jsonConstructor\":\"TargetStatusSearchCriterion\",\"data\":{\"id\":\"target_status\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Target Status\",\"displayDetails\":null}},{\"jsonConstructor\":\"AssociationSearchCriterion\",\"data\":{\"assoc\":{\"jsonConstructor\":\"Association\",\"data\":{\"sourceTargetType\":\"oracle_database\",\"destinationTargetType\":\"oracle_home\",\"associationType\":\"installed_at\",\"assocDisplayName\":\"installed_at\",\"inverseAssocType\":\"install_home_for\",\"id\":\"installed_at(oracle_database,oracle_home)\"}},\"wrappedCriterion\":{\"jsonConstructor\":\"MetricGroupSearchCriterion\",\"data\":{\"id\":\"oracle_home_LlInvSummary_isPatched\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Patch Applied\",\"displayDetails\":\"Summary of Oracle Products\",\"targetType\":\"oracle_home\",\"mcName\":\"isPatched\",\"mgName\":\"LlInvSummary\",\"mgDisplayName\":\"Summary of Oracle Products\",\"isKey\":0,\"groupKeyColumns\":[\"mapTargetType\",\"compVersion\",\"compName\"]}},\"id\":\"installed_at(oracle_database,oracle_home)_oracle_home_LlInvSummary_isPatched\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Patch Applied\",\"displayDetails\":\"installed_at (Oracle Home) > Summary of Oracle Products\"}}]}',0);
Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,METADATA_CLOB,SEARCH_DISPLAY_STR,UI_HIDDEN) values (3002,'WebLogic Server with Listen Port','SYSMAN',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'SYSMAN',null,302,2,null,null,null,null,0,null,0,null,'{\"version\":0.5,\"criteria\":[{\"jsonConstructor\":\"TargetTypeSearchCriterion\",\"data\":{\"id\":\"target_type\",\"_value\":{\"jsonConstructor\":\"CriterionExpression\",\"data\":{\"type\":\"in\",\"values\":[{\"jsonConstructor\":\"CriterionValue\",\"data\":{\"value\":\"weblogic_j2eeserver\",\"metadata\":{\"category\":false},\"displayValue\":\"Oracle WebLogic Server\"}}]}},\"dataType\":\"string\",\"displayName\":\"Target Type\",\"displayDetails\":null}},{\"jsonConstructor\":\"TargetStatusSearchCriterion\",\"data\":{\"id\":\"target_status\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Target Status\",\"displayDetails\":null}},{\"jsonConstructor\":\"MetricGroupSearchCriterion\",\"data\":{\"id\":\"weblogic_j2eeserver_WeblogicServer_listenport\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Listen Port\",\"displayDetails\":\"Server Information\",\"targetType\":\"weblogic_j2eeserver\",\"mcName\":\"listenport\",\"mgName\":\"WeblogicServer\",\"mgDisplayName\":\"Server Information\",\"isKey\":0,\"groupKeyColumns\":[]}}]}',0);
Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,METADATA_CLOB,SEARCH_DISPLAY_STR,UI_HIDDEN) values (3003,'WebLogic Server with Patch Applied','SYSMAN',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'SYSMAN',null,302,2,null,null,null,null,0,null,0,null,'{\"version\":0.5,\"criteria\":[{\"jsonConstructor\":\"TargetTypeSearchCriterion\",\"data\":{\"id\":\"target_type\",\"_value\":{\"jsonConstructor\":\"CriterionExpression\",\"data\":{\"type\":\"in\",\"values\":[{\"jsonConstructor\":\"CriterionValue\",\"data\":{\"value\":\"weblogic_j2eeserver\",\"metadata\":{\"category\":false},\"displayValue\":\"Oracle WebLogic Server\"}}]}},\"dataType\":\"string\",\"displayName\":\"Target Type\",\"displayDetails\":null}},{\"jsonConstructor\":\"TargetStatusSearchCriterion\",\"data\":{\"id\":\"target_status\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Target Status\",\"displayDetails\":null}},{\"jsonConstructor\":\"AssociationSearchCriterion\",\"data\":{\"assoc\":{\"jsonConstructor\":\"Association\",\"data\":{\"sourceTargetType\":\"oracle_database\",\"destinationTargetType\":\"oracle_home\",\"associationType\":\"installed_at\",\"assocDisplayName\":\"installed_at\",\"inverseAssocType\":\"install_home_for\",\"id\":\"installed_at(oracle_database,oracle_home)\"}},\"wrappedCriterion\":{\"jsonConstructor\":\"MetricGroupSearchCriterion\",\"data\":{\"id\":\"oracle_home_LlInvSummary_isPatched\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Patch Applied\",\"displayDetails\":\"Summary of Oracle Products\",\"targetType\":\"oracle_home\",\"mcName\":\"isPatched\",\"mgName\":\"LlInvSummary\",\"mgDisplayName\":\"Summary of Oracle Products\",\"isKey\":0,\"groupKeyColumns\":[\"mapTargetType\",\"compVersion\",\"compName\"]}},\"id\":\"installed_at(oracle_database,oracle_home)_oracle_home_LlInvSummary_isPatched\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Patch Applied\",\"displayDetails\":\"installed_at (Oracle Home) > Summary of Oracle Products\"}}]}',0);
Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,METADATA_CLOB,SEARCH_DISPLAY_STR,UI_HIDDEN) values (3004,'WebLogic Server with Max Heap Size','SYSMAN',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'SYSMAN',null,302,2,null,null,null,null,0,null,0,null,'{\"version\":0.5,\"criteria\":[{\"jsonConstructor\":\"TargetTypeSearchCriterion\",\"data\":{\"id\":\"target_type\",\"_value\":{\"jsonConstructor\":\"CriterionExpression\",\"data\":{\"type\":\"in\",\"values\":[{\"jsonConstructor\":\"CriterionValue\",\"data\":{\"value\":\"weblogic_j2eeserver\",\"metadata\":{\"category\":false},\"displayValue\":\"Oracle WebLogic Server\"}}]}},\"dataType\":\"string\",\"displayName\":\"Target Type\",\"displayDetails\":null}},{\"jsonConstructor\":\"TargetStatusSearchCriterion\",\"data\":{\"id\":\"target_status\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Target Status\",\"displayDetails\":null}},{\"jsonConstructor\":\"MetricGroupSearchCriterion\",\"data\":{\"id\":\"weblogic_j2eeserver_WeblogicResourceconfig_maxheap\",\"_value\":null,\"dataType\":\"number\",\"displayName\":\"Maximum Heap Size (MB)\",\"displayDetails\":\"Resource Usage\",\"targetType\":\"weblogic_j2eeserver\",\"mcName\":\"maxheap\",\"mgName\":\"WeblogicResourceconfig\",\"mgDisplayName\":\"Resource Usage\",\"isKey\":0,\"groupKeyColumns\":[]}}]}',0);

insert into EMS_ANALYTICS_LAST_ACCESS(OBJECT_ID,ACCESSED_BY,OBJECT_TYPE,ACCESS_DATE)
select SEARCH_ID,'SYSMAN',2,SYS_EXTRACT_UTC(SYSTIMESTAMP) from EMS_ANALYTICS_SEARCH where search_id>=3000 and search_id<=3999;


