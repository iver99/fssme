Rem
Rem emaas_savesearch_seed_data_la.sql
Rem
Rem Copyright (c) 2013, 2014, Oracle and/or its affiliates.
Rem All rights reserved.
Rem
Rem    NAME
Rem      emaas_savesearch_seed_data_la.sql
Rem
Rem    DESCRIPTION
Rem      Seed data for Log Analytics
Rem
Rem    NOTES
Rem      None
Rem
Rem    MODIFIED   (MM/DD/YY)
Rem    miayu          05/28/15 - add another 13 LA OOB widgets and set default time range of all LA OOB widgets to "Last 60 Minutes"
Rem    miayu          04/21/15 - move OOB folder for LA to emaas_savesearch_seed_data.sql. Only OOB SEARCHES are expected to be in this file
Rem    jerrusse       08/21/14 - Created for Log Analytics
Rem		 sdhamdhe				03/25/15 - Removed OOB searches for all of LA as requested by Jerry


DEFINE TENANT_ID = '&1'
DECLARE
--OOB Searches
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2000,'Top Log Sources','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top Log Sources based on number of log entries collected.',2,1,null,null,null,null,1,null,0,'* | STATS COUNT AS cnt BY ''Log Source'' | TOP LIMIT = 10 cnt',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2000
--,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2000,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2000,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2000,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2000,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
V_SEARCH_ID                           NUMBER         			;
V_NAME								  VARCHAR2(64 BYTE)        ;
V_OWNER                               VARCHAR2(64 BYTE)       ;
V_CREATION_DATE                       TIMESTAMP      ;
V_LAST_MODIFICATION_DATE              TIMESTAMP      ;
V_LAST_MODIFIED_BY                    VARCHAR2(64 BYTE)        ;
V_DESCRIPTION                         VARCHAR2(256 BYTE)       ;
V_FOLDER_ID                           NUMBER         ;
V_CATEGORY_ID                         NUMBER         ;
V_NAME_NLSID                          VARCHAR2(64 BYTE)        ;
V_NAME_SUBSYSTEM                      VARCHAR2(64 BYTE)        ;
V_DESCRIPTION_NLSID                   VARCHAR2(256 BYTE)        ;
V_DESCRIPTION_SUBSYSTEM               VARCHAR2(64 BYTE)        ;
V_SYSTEM_SEARCH                       NUMBER         ;
V_EM_PLUGIN_ID                        VARCHAR2(64 BYTE)        ;
V_IS_LOCKED                           NUMBER         ;
V_SEARCH_DISPLAY_STR                  CLOB           ;
V_UI_HIDDEN                           NUMBER           ;
V_DELETED                             NUMBER         ;
V_IS_WIDGET                           NUMBER         ;
V_TENANT_ID                           NUMBER       :='&TENANT_ID'  ;


V_PARAM_ATTRIBUTES         VARCHAR2(1024 BYTE)             ;
V_PARAM_TYPE               NUMBER(38,0)                    ;
V_PARAM_VALUE_STR          VARCHAR2(1024 BYTE)             ;
V_PARAM_VALUE_CLOB         NCLOB                           ;

V_COUNT                    NUMBER;

BEGIN
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2000;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
 V_SEARCH_ID                          	:=2000;
 V_NAME                                  :='Top Log Sources';
 V_OWNER                 				:='ORACLE';
 V_CREATION_DATE           				:=SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:='ORACLE';
 V_DESCRIPTION           				:='Top Log Sources based on number of log entries collected.';
 V_FOLDER_ID               				:=2;
 V_CATEGORY_ID            				:=1;
 V_NAME_NLSID            				:=null;
 V_NAME_SUBSYSTEM        				:=null;
 V_DESCRIPTION_NLSID     				:=null;
 V_DESCRIPTION_SUBSYSTEM 				:=null;
 V_SYSTEM_SEARCH         				:=1;
 V_EM_PLUGIN_ID          				:=null;
 V_IS_LOCKED             				:=0;
 V_SEARCH_DISPLAY_STR    				:='* | STATS COUNT AS cnt BY ''Log Source'' | TOP LIMIT = 10 cnt';
 V_UI_HIDDEN             				:=0;
 V_DELETED               				:=0;
 V_IS_WIDGET             				:=1;
 V_TENANT_ID             				:='&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=2000;
 V_NAME                  :='WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=null;
 V_PARAM_TYPE            :=1;
 V_PARAM_VALUE_STR       :='LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=null;
 V_TENANT_ID             :='&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             := 2000;
 V_NAME                  := 'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      := null;
 V_PARAM_TYPE            := 1;
 V_PARAM_VALUE_STR       := '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      := null;
 V_TENANT_ID             := '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=  2000;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2000;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative","duration":"60","timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2001;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data All Logs Trend has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2001,'All Logs Trend','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of all log entries from all sources.',2,1,null,null,null,null,1,null,0,'*',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2001,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2001,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2001,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2001,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2001,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
 V_SEARCH_ID                          	:= 2001;
 V_NAME                                  := 'All Logs Trend';
 V_OWNER                 				:= 'ORACLE';
 V_CREATION_DATE           				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:= 'ORACLE';
 V_DESCRIPTION           				:= 'Time-based histogram of all log entries from all sources.';
 V_FOLDER_ID               				:= 2;
 V_CATEGORY_ID            				:= 1;
 V_NAME_NLSID            				:= null;
 V_NAME_SUBSYSTEM        				:= null;
 V_DESCRIPTION_NLSID     				:= null;
 V_DESCRIPTION_SUBSYSTEM 				:= null;
 V_SYSTEM_SEARCH         				:= 1;
 V_EM_PLUGIN_ID          				:= null;
 V_IS_LOCKED             				:= 0;
 V_SEARCH_DISPLAY_STR    				:= '*';
 V_UI_HIDDEN             				:= 0;
 V_DELETED               				:= 0;
 V_IS_WIDGET             				:= 1;
 V_TENANT_ID             				:= '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=   2001;
 V_NAME                  :=  'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2001;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2001;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2001;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=     2001;
 V_NAME                  :=     'time';
 V_PARAM_ATTRIBUTES      :=     null;
 V_PARAM_TYPE            :=     1;
 V_PARAM_VALUE_STR       :=     '{"type":"relative","duration":"60","timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2002;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Database Log Trends has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2002,'Database Log Trends','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of all log entries from Database targets.',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2002,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2002,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2002,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2002,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2002,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
 V_SEARCH_ID                          	:=  2002;
 V_NAME                                  :=  'Database Log Trends';
 V_OWNER                 				:=  'ORACLE';
 V_CREATION_DATE           				:=  SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=  SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=  'ORACLE';
 V_DESCRIPTION           				:=  'Time-based histogram of all log entries from Database targets.';
 V_FOLDER_ID               				:=  2;
 V_CATEGORY_ID            				:=  1;
 V_NAME_NLSID            				:=  null;
 V_NAME_SUBSYSTEM        				:=  null;
 V_DESCRIPTION_NLSID     				:=  null;
 V_DESCRIPTION_SUBSYSTEM 				:=  null;
 V_SYSTEM_SEARCH         				:=  1;
 V_EM_PLUGIN_ID          				:=  null;
 V_IS_LOCKED             				:=  0;
 V_SEARCH_DISPLAY_STR    				:=  '''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'')';
 V_UI_HIDDEN             				:=  0;
 V_DELETED               				:=  0;
 V_IS_WIDGET             				:=  1;
 V_TENANT_ID             				:=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=    2002;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=     2002;
 V_NAME                  :=     'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=     null;
 V_PARAM_TYPE            :=     1;
 V_PARAM_VALUE_STR       :=     'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2002;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=  2002;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2002;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2003,'Enterprise Manager Logs Trend','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of all log entries from Enterprise Manager targets',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Agent'', ''Harvester'', ''Gateway'', ''Oracle Management Service'', ''Lama'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2003,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2003,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2003,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2003,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2003,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2003;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Enterprise Manager Logs Trend has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
 V_SEARCH_ID                          	:=   2003;
 V_NAME                                  :=   'Enterprise Manager Logs Trend';
 V_OWNER                 				:=   'ORACLE';
 V_CREATION_DATE           				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=   'ORACLE';
 V_DESCRIPTION           				:=   'Time-based histogram of all log entries from Enterprise Manager targets';
 V_FOLDER_ID               				:=   2;
 V_CATEGORY_ID            				:=   1;
 V_NAME_NLSID            				:=   null;
 V_NAME_SUBSYSTEM        				:=   null;
 V_DESCRIPTION_NLSID     				:=   null;
 V_DESCRIPTION_SUBSYSTEM 				:=   null;
 V_SYSTEM_SEARCH         				:=   1;
 V_EM_PLUGIN_ID          				:=   null;
 V_IS_LOCKED             				:=   0;
 V_SEARCH_DISPLAY_STR    				:=   '''Target Type'' IN (''Agent'', ''Harvester'', ''Gateway'', ''Oracle Management Service'', ''Lama'')';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=    2003;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2003;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2003;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2003;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2003;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative","duration":"60","timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2004,'Host Logs Trend','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of all log entries from Host targets',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Host'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2004,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2004,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2004,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2004,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2004,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2004;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Host Logs Trend has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2004;
 V_NAME                                  :=    'Host Logs Trend';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram of all log entries from Host targets';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type'' IN (''Host'')';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=    2004;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2004;
 V_NAME                  :=    'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2004;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2004;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2004;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative","duration":"60","timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2005,'Top Database Targets with Log Errors','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 Database targets that have the most log entries with ERROR or SEVERE severity.',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') AND Severity IN (''error'', ''ERROR'', ''SEVERE'', ''severe'')  |stats count as ''Error Count'' by target |top limit=10 ''Error Count''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2005,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2005,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2005,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2005,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2005,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2005;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Database Targets with Log Errors has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
 V_SEARCH_ID                          	:=    2005;
 V_NAME                                  :=    'Top Database Targets with Log Errors';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Top 10 Database targets that have the most log entries with ERROR or SEVERE severity.';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') AND Severity IN (''error'', ''ERROR'', ''SEVERE'', ''severe'')  |stats count as ''Error Count'' by target |top limit=10 ''Error Count''';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=     2005;
 V_NAME                  :=     'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=     null;
 V_PARAM_TYPE            :=     1;
 V_PARAM_VALUE_STR       :=     'PIE';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2005;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2005;
 V_NAME                  :=    'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2005;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2005;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative","duration":"60","timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2006,'Middleware Logs Trend','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of all log entries from Middleware targets',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Oracle WebLogic Server'', ''Oracle Internet Directory'', ''Oracle HTTP Server'', ''Oracle Access Management Server'', ''Oracle WebLogic Domain'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2006,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2006,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2006,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2006,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2006,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2006;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Middleware Logs Trend has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2006;
 V_NAME                                  :=    'Middleware Logs Trend';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram of all log entries from Middleware targets';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type'' IN (''Oracle WebLogic Server'', ''Oracle Internet Directory'', ''Oracle HTTP Server'', ''Oracle Access Management Server'', ''Oracle WebLogic Domain'')';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=   2006;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2006;
 V_NAME                  :=  'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2006;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

  V_SEARCH_ID            :=   2006;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

  V_SEARCH_ID            :=   2006;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2007,'Web Server Top Accessed Pages','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 recently accessed web pages in Middleware access logs.',2,1,null,null,null,null,1,null,0,'''log source'' in (''FMW WLS Server Access Log'',''FMW OHS Access Log'') |stats count as ''Request Count'' by URI |top limit=10 ''Request Count''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2007,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2007,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2007,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2007,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2007,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2007;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Web Server Top Accessed Pages has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=     2007;
 V_NAME                                  :=    'Web Server Top Accessed Pages';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Top 10 recently accessed web pages in Middleware access logs.';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''log source'' in (''FMW WLS Server Access Log'',''FMW OHS Access Log'') |stats count as ''Request Count'' by URI |top limit=10 ''Request Count''';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

  V_SEARCH_ID            :=  2007;
 V_NAME                  :=  'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'BAR';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2007;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2007;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2007;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2007;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2008,'Web Server Failed HTTP Requests','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of recent HTTP request failures.',2,1,null,null,null,null,1,null,0,'''log source'' IN (''FMW WLS Server Access Log'', ''FMW OHS Access Log'') AND Status IN (''400'', ''401'', ''402'', ''403'', ''404'', ''405'', ''406'', ''407'', ''408'', ''409'', ''410'', ''411'', ''412'', ''413'', ''414'', ''415'', ''416'', ''417'', ''500'', ''501'', ''502'', ''503'', ''504'', ''505'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2008,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2008,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2008,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2008,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2008,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2008;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Web Server Failed HTTP Requests has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2008;
 V_NAME                                  :=    'Web Server Failed HTTP Requests';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram of recent HTTP request failures.';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''log source'' IN (''FMW WLS Server Access Log'', ''FMW OHS Access Log'') AND Status IN (''400'', ''401'', ''402'', ''403'', ''404'', ''405'', ''406'', ''407'', ''408'', ''409'', ''410'', ''411'', ''412'', ''413'', ''414'', ''415'', ''416'', ''417'', ''500'', ''501'', ''502'', ''503'', ''504'', ''505'')';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2008;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2008;
 V_NAME                  :=    'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);



 V_SEARCH_ID             :=    2008;
 V_NAME                  :=    'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2008;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

  V_SEARCH_ID            :=    2008;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2009,'Top Web Server Targets by Requests','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 web server targets with the most HTTP requests.',2,1,null,null,null,null,1,null,0,'''log source'' in (''FMW WLS Server Access Log'',''FMW OHS Access Log'') |stats count as ''Request Count'' by target |top limit=10 ''Request Count''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2009,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2009,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2009,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2009,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2009,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2009;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Web Server Targets by Requests has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2009;
 V_NAME                                  :=    'Top Web Server Targets by Requests';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Top 10 web server targets with the most HTTP requests.';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''log source'' in (''FMW WLS Server Access Log'',''FMW OHS Access Log'') |stats count as ''Request Count'' by target |top limit=10 ''Request Count''';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';
Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=    2009;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'PIE';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';


Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2009;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2009;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2009;
 V_NAME                  :=  'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=  2009;
 V_NAME                  :=  'time';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2010,'Top Middleware Error Codes','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 most common recent Middleware errors codes (such as BEA-XXXXXX).',2,1,null,null,null,null,1,null,0,'''target type'' in (''Oracle WebLogic Server'', ''Oracle Internet Directory'',''Oracle HTTP Server'',''Oracle Access Management Server'',''Oracle WebLogic Domain'') AND ''Error ID'' != ''bea-000000'' |stats count as cnt by ''error id'' |top limit=10 cnt',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2010,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2010,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2010,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2010,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2010,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2010;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Middleware Error Codes has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=     2010;
 V_NAME                                  :=     'Top Middleware Error Codes';
 V_OWNER                 				:=     'ORACLE';
 V_CREATION_DATE           				:=     SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=     SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=     'ORACLE';
 V_DESCRIPTION           				:=     'Top 10 most common recent Middleware errors codes (such as BEA-XXXXXX).';
 V_FOLDER_ID               				:=     2;
 V_CATEGORY_ID            				:=     1;
 V_NAME_NLSID            				:=     null;
 V_NAME_SUBSYSTEM        				:=     null;
 V_DESCRIPTION_NLSID     				:=     null;
 V_DESCRIPTION_SUBSYSTEM 				:=     null;
 V_SYSTEM_SEARCH         				:=     1;
 V_EM_PLUGIN_ID          				:=     null;
 V_IS_LOCKED             				:=     0;
 V_SEARCH_DISPLAY_STR    				:=     '''target type'' in (''Oracle WebLogic Server'', ''Oracle Internet Directory'',''Oracle HTTP Server'',''Oracle Access Management Server'',''Oracle WebLogic Domain'') AND ''Error ID'' != ''bea-000000'' |stats count as cnt by ''error id'' |top limit=10 cnt';
 V_UI_HIDDEN             				:=     0;
 V_DELETED               				:=     0;
 V_IS_WIDGET             				:=     1;
 V_TENANT_ID             				:=     '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2010;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2010;
 V_NAME                  :=    'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2010;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2010;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2010;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2011;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top ECIDs with BEA Errors has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
 V_SEARCH_ID                          	:=      2011;
 V_NAME                                  :=      'Top ECIDs with BEA Errors';
 V_OWNER                 				:=      'ORACLE';
 V_CREATION_DATE           				:=      SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=      SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=      'ORACLE';
 V_DESCRIPTION           				:=      'Top 10 Execution IDs (ECIDs) based on number of log entries containing BEA error codes.';
 V_FOLDER_ID               				:=      2;
 V_CATEGORY_ID            				:=      1;
 V_NAME_NLSID            				:=      null;
 V_NAME_SUBSYSTEM        				:=      null;
 V_DESCRIPTION_NLSID     				:=      null;
 V_DESCRIPTION_SUBSYSTEM 				:=      null;
 V_SYSTEM_SEARCH         				:=      1;
 V_EM_PLUGIN_ID          				:=      null;
 V_IS_LOCKED             				:=      0;
 V_SEARCH_DISPLAY_STR    				:=      '''target type'' in (''Oracle WebLogic Server'',''Oracle Internet Directory'',''Oracle HTTP Server'',''Oracle Access Management Server'', ''Oracle WebLogic Domain'') AND ''Error ID'' != ''bea-000000'' |stats count as ''BEA-XXXXXX Count'' by ecid |top limit=10 ''BEA-XXXXXX Count''';
 V_UI_HIDDEN             				:=      0;
 V_DELETED               				:=      0;
 V_IS_WIDGET             				:=      1;
 V_TENANT_ID             				:=      '&TENANT_ID';


 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=   2011;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2011;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2011;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2011;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2011;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2012,'Top Middleware Targets with Errors','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 Middleware targets that have the most log entries with ERROR or SEVERE severity.',2,1,null,null,null,null,1,null,0,'''target type'' in (''Oracle WebLogic Server'',''Oracle Internet Directory'',''Oracle HTTP Server'',''Oracle Access Management Server'', ''Oracle WebLogic Domain'') AND severity  in (''error'',''ERROR'',''SEVERE'',''severe'') |stats count as ''Error Count'' by target |top limit=10 ''Error Count''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2012,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2012,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2012,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2012,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2012,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2012;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Middleware Targets with Errors has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=   2012;
 V_NAME                                  :=   'Top Middleware Targets with Errors';
 V_OWNER                 				:=   'ORACLE';
 V_CREATION_DATE           				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=   'ORACLE';
 V_DESCRIPTION           				:=   'Top 10 Middleware targets that have the most log entries with ERROR or SEVERE severity.';
 V_FOLDER_ID               				:=   2;
 V_CATEGORY_ID            				:=   1;
 V_NAME_NLSID            				:=   null;
 V_NAME_SUBSYSTEM        				:=   null;
 V_DESCRIPTION_NLSID     				:=   null;
 V_DESCRIPTION_SUBSYSTEM 				:=   null;
 V_SYSTEM_SEARCH         				:=   1;
 V_EM_PLUGIN_ID          				:=   null;
 V_IS_LOCKED             				:=   0;
 V_SEARCH_DISPLAY_STR    				:=   '''target type'' in (''Oracle WebLogic Server'',''Oracle Internet Directory'',''Oracle HTTP Server'',''Oracle Access Management Server'', ''Oracle WebLogic Domain'') AND severity  in (''error'',''ERROR'',''SEVERE'',''severe'') |stats count as ''Error Count'' by target |top limit=10 ''Error Count''';
 V_UI_HIDDEN             				:=   0;
 V_DELETED               				:=   0;
 V_IS_WIDGET             				:=   1;
 V_TENANT_ID             				:=   '&TENANT_ID';



 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2012;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=  2012;
 V_NAME                  :=  'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2012;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=   2012;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2012;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2013,'Database Errors Trend','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram of all errors from Database targets.',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') AND ''Message Group'' IN (''ORA'', ''NZE'', ''EXP'', ''IMP'', ''SQL*Loader'', ''KUP'', ''UDE'', ''UDI'', ''DBV'', ''NID'', ''DGM'', ''DIA'', ''LCD'', ''OCI'', ''QSM'', ''RMAN'', ''LRM'', ''LFI'', ''PLS'', ''PLW'', ''AMD'', ''CLSR'', ''CLSS'', ''CRS'', ''EVM'', ''CLST'', ''CLSD'', ''PROC'', ''PROT'', ''TNS'', ''NNC'', ''NNO'', ''NPL'', ''NNF'', ''NMP'', ''NCR'', ''O2F'', ''O2I'', ''O2U'', ''PCB'', ''PCC'', ''SQL'', ''AUD'', ''IMG'', ''VID'', ''DRG'', ''LPX'', ''LSX'', ''PGA'', ''PGU'') OR ''Message Group'' LIKE ''%NNL''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2013,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2013,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2013,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2013,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2013,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2013,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2013;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Database Errors Trend has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2013;
 V_NAME                                  :=    'Database Errors Trend';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram of all errors from Database targets.';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') AND ''Message Group'' IN (''ORA'', ''NZE'', ''EXP'', ''IMP'', ''SQL*Loader'', ''KUP'', ''UDE'', ''UDI'', ''DBV'', ''NID'', ''DGM'', ''DIA'', ''LCD'', ''OCI'', ''QSM'', ''RMAN'',''LRM'', ''LFI'', ''PLS'', ''PLW'', ''AMD'', ''CLSR'', ''CLSS'', ''CRS'', ''EVM'', ''CLST'', ''CLSD'',''PROC'', ''PROT'', ''TNS'', ''NNC'', ''NNO'', ''NPL'',''NNF'', ''NMP'', ''NCR'', ''O2F'', ''O2I'', ''O2U'', ''PCB'', ''PCC'', ''SQL'', ''AUD'', ''IMG'', ''VID'', ''DRG'', ''LPX'', ''LSX'', ''PGA'', ''PGU'') OR ''Message Group'' LIKE ''%NNL''';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2013;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2013;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2013;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2013;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=     2013;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2013;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2014,'Failed Host Password Attempts','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram showing count of failed passwords while attempting to log into a user account',2,1,null,null,null,null,1,null,0,'''Target Type'' = ''Host'' AND (''failed password for'' OR ''authentication failure'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2014,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2014,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2014,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2014,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2014,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2014,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2014;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Failed Host Password Attempts has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=     2014;
 V_NAME                                  :=    'Failed Host Password Attempts';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram showing count of failed passwords while attempting to log into a user account';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type'' = ''Host'' AND (''failed password for'' OR ''authentication failure'')';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';


 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=  2014;
 V_NAME                  :=  'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2014;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=  2014;
 V_NAME                  :=  'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  2;
 V_PARAM_VALUE_STR       :=  '';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=  2014;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=  2014;
 V_NAME                  :=  'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=   2014;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2015,'Database Top Errors','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 Database Errors that have recently occurred.',2,1,null,null,null,null,1,null,0,' ''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') AND ''Message Group'' in ( ''ORA'',''NZE'',''EXP'', ''IMP'',''SQL*Loader'', ''KUP'',''UDE'', ''UDI'',''DBV'', ''NID'', ''DGM'',''DIA'',''LCD'',''OCI'', ''QSM'', ''RMAN'',''LRM'',''LFI'',''PLS'', ''PLW'',''AMD'',''CLSR'',''CLSS'',''CRS'' ,''EVM'', ''CLST'',''CLSD'',''PROC'', ''PROT'',''TNS'',''NNC'',''NNO'',''NPL'', ''NNF'', ''NMP'',''NCR'', ''O2F'', ''O2I'',''O2U'',''PCB'',''PCC'',''SQL'',''AUD'',''IMG'', ''VID'', ''DRG'',''LPX'',''LSX'',''PGA'', ''PGU'') OR ''Message Group'' like ''%NNL''  |stats count as ''Errors'' by ''Message ID'' |top limit=10 ''Errors''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2015,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2015,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2015,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2015,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2015,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2015,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2015;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Database Top Errors has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=     2015;
 V_NAME                                  :=     'Database Top Errors';
 V_OWNER                 				:=     'ORACLE';
 V_CREATION_DATE           				:=     SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=     SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=     'ORACLE';
 V_DESCRIPTION           				:=     'Top 10 Database Errors that have recently occurred.';
 V_FOLDER_ID               				:=     2;
 V_CATEGORY_ID            				:=     1;
 V_NAME_NLSID            				:=     null;
 V_NAME_SUBSYSTEM        				:=     null;
 V_DESCRIPTION_NLSID     				:=     null;
 V_DESCRIPTION_SUBSYSTEM 				:=     null;
 V_SYSTEM_SEARCH         				:=     1;
 V_EM_PLUGIN_ID          				:=     null;
 V_IS_LOCKED             				:=     0;
 V_SEARCH_DISPLAY_STR    				:=     ' ''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') AND ''Message Group'' in ( ''ORA'',''NZE'',''EXP'', ''IMP'',''SQL*Loader'', ''KUP'',''UDE'', ''UDI'',''DBV'', ''NID'', ''DGM'',''DIA'',''LCD'',''OCI'', ''QSM'', ''RMAN'',''LRM'',''LFI'',''PLS'', ''PLW'',''AMD'',''CLSR'',''CLSS'',''CRS'' ,''EVM'', ''CLST'',''CLSD'',''PROC'', ''PROT'',''TNS'',''NNC'',''NNO'',''NPL'', ''NNF'', ''NMP'',''NCR'', ''O2F'', ''O2I'',''O2U'',''PCB'',''PCC'',''SQL''''AUD'',''IMG'', ''VID'', ''DRG'',''LPX'',''LSX'',''PGA'', ''PGU'') OR ''Message Group'' like ''%NNL''  |stats count as ''Errors'' by ''Message ID'' |top limit=10 ''Errors''';
 V_UI_HIDDEN             				:=     0;
 V_DELETED               				:=     0;
 V_IS_WIDGET             				:=     1;
 V_TENANT_ID             				:=     '&TENANT_ID';


 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=   2015;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2015;
 V_NAME                  :=   'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   2;
 V_PARAM_VALUE_STR       :=   '';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2015;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2015;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2015;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'BAR';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2015;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2016,'Database Critical Incidents by Target Type','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Database critical errors based on Error ID grouped by by target type',2,1,null,null,null,null,1,null,0,'''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') and ''Error ID'' IN ( ''ORA-00600'',''ORA-00603'',''ORA-07445'', ''ORA-04030'',''ORA-04031'',''ORA-00227'',''ORA-00239'', ''ORA-00240'',''ORA-00255'',''ORA-00353'', ''ORA-00355'',''ORA-00356'',''ORA-00445'',''ORA-00494'',''ORA-01578'', ''OCI-03106'',''ORA-03113'',''OCI-03113%'', ''OCI-03135'', ''ORA-03137'',''ORA-04036'',''ORA-24982'',''ORA-25319'', ''ORA-29740'',''ORA-29770'', ''ORA-29771'', ''ORA-32701'',''ORA-32703'',''ORA-32704'',''ORA-06512'', ''ORA-15173'' ) |stats count as ''Critical Errors'' by ''Target Type''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2016,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2016,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2016,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2016,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2016,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2016,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2016;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Database Critical Incidents by Target Type has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
 V_SEARCH_ID                          	:=      2016;
 V_NAME                                  :=      'Database Critical Incidents by Target Type';
 V_OWNER                 				:=      'ORACLE';
 V_CREATION_DATE           				:=      SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=      SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=      'ORACLE';
 V_DESCRIPTION           				:=      'Database critical errors based on Error ID grouped by by target type';
 V_FOLDER_ID               				:=      2;
 V_CATEGORY_ID            				:=      1;
 V_NAME_NLSID            				:=      null;
 V_NAME_SUBSYSTEM        				:=      null;
 V_DESCRIPTION_NLSID     				:=      null;
 V_DESCRIPTION_SUBSYSTEM 				:=      null;
 V_SYSTEM_SEARCH         				:=      1;
 V_EM_PLUGIN_ID          				:=      null;
 V_IS_LOCKED             				:=      0;
 V_SEARCH_DISPLAY_STR    				:=      '''Target Type'' IN (''Database Instance'', ''Automatic Storage Management'', ''Listener'', ''Cluster'') and ''Error ID'' IN ( ''ORA-00600'',''ORA-00603'',''ORA-07445'', ''ORA-04030'',''ORA-04031'',''ORA-00227'',''ORA-00239'', ''ORA-00240'',''ORA-00255'',''ORA-00353'' ,''ORA-00355'',''ORA-00356'',''ORA-00445'',''ORA-00494'',''ORA-01578'', ''OCI-03106'',''ORA-03113'',''OCI-03113%'', ''OCI-03135'', ''ORA-03137'',''ORA-04036'',''ORA-24982'',''ORA-25319'', ''ORA-29740'',''ORA-29770'', ''ORA-29771'', ''ORA-32701'',''ORA-32703'',''ORA-32704'',''ORA-06512'', ''ORA-15173'' ) |stats count as ''Critical Errors'' by ''Target Type''';
 V_UI_HIDDEN             				:=      0;
 V_DELETED               				:=      0;
 V_IS_WIDGET             				:=      1;
 V_TENANT_ID             				:=      '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=  2016;
 V_NAME                  :=  'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2016;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2016;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2016;
 V_NAME                  :=   'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   2;
 V_PARAM_VALUE_STR       :=   '';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);




 V_SEARCH_ID             :=    2016;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'BAR';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2016;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2017,'Access Log Error Status Codes','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 4xx and 5xx errors codes in HTTP Access Logs. ',2,1,null,null,null,null,1,null,0,'''Log Source'' LIKE "*Access Logs*" AND Status IN (''400'', ''401'', ''402'', ''403'', ''404'', ''405'', ''406'', ''407'', ''408'', ''409'', ''410'', ''411'', ''412'', ''413'', ''414'', ''415'', ''416'', ''417'', ''500'', ''501'', ''502'', ''503'', ''504'', ''505'') | stats count by ''log source''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2017,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2017,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2017,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2017,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2017,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2017,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2017;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Access Log Error Status Codes has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=  2017;
 V_NAME                                  :=  'Access Log Error Status Codes';
 V_OWNER                 				:=  'ORACLE';
 V_CREATION_DATE           				:=  SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=  SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=  'ORACLE';
 V_DESCRIPTION           				:=  'Top 4xx and 5xx errors codes in HTTP Access Logs. ';
 V_FOLDER_ID               				:=  2;
 V_CATEGORY_ID            				:=  1;
 V_NAME_NLSID            				:=  null;
 V_NAME_SUBSYSTEM        				:=  null;
 V_DESCRIPTION_NLSID     				:=  null;
 V_DESCRIPTION_SUBSYSTEM 				:=  null;
 V_SYSTEM_SEARCH         				:=  1;
 V_EM_PLUGIN_ID          				:=  null;
 V_IS_LOCKED             				:=  0;
 V_SEARCH_DISPLAY_STR    				:=  '''Log Source'' LIKE "*Access Logs*" AND Status IN (''400'', ''401'', ''402'', ''403'', ''404'', ''405'', ''406'', ''407'', ''408'', ''409'', ''410'', ''411'', ''412'', ''413'', ''414'', ''415'', ''416'', ''417'',''500'', ''501'', ''502'', ''503'', ''504'', ''505'') | stats count by ''log source''';
 V_UI_HIDDEN             				:=  0;
 V_DELETED               				:=  0;
 V_IS_WIDGET             				:=  1;
 V_TENANT_ID             				:=  '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=     2017;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'PIE';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2017;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2017;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2017;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2017;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2017;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2018;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Web Server Top Accessed Pages (Excluding Assets) has been added before, no need to add again for ' || V_TENANT_ID);
 ELSE
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2018,'Web Server Top Accessed Pages (Excluding Assets)','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Graph of top 10 Top URIs for application pages excluding external assets such as images, javascript, css files. ',2,1,null,null,null,null,1,null,0,'''Log Source'' LIKE "*Access Logs*" and URI != null and "File Extension" not in ("gif","png","jpg","js","css","swf","ico") and URI not like "*/blank.html" | stats count as "Request Count" by URI |top limit=10 "Request Count"',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2018,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2018,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2018,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2018,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2018,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2018,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
 V_SEARCH_ID                          	:= 2018;
 V_NAME                                  := 'Web Server Top Accessed Pages (Excluding Assets)';
 V_OWNER                 				:= 'ORACLE';
 V_CREATION_DATE           				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:= 'ORACLE';
 V_DESCRIPTION           				:= 'Graph of top 10 Top URIs for application pages excluding external assets such as images, javascript, css files. ';
 V_FOLDER_ID               				:= 2;
 V_CATEGORY_ID            				:= 1;
 V_NAME_NLSID            				:= null;
 V_NAME_SUBSYSTEM        				:= null;
 V_DESCRIPTION_NLSID     				:= null;
 V_DESCRIPTION_SUBSYSTEM 				:= null;
 V_SYSTEM_SEARCH         				:= 1;
 V_EM_PLUGIN_ID          				:= null;
 V_IS_LOCKED             				:= 0;
 V_SEARCH_DISPLAY_STR    				:= '''Log Source'' LIKE "*Access Logs*" and URI != null and "File Extension" not in ("gif","png","jpg","js","css","swf","ico") and URI not like "*/blank.html" | stats count as "Request Count" by URI |top limit=10 "Request Count"';
 V_UI_HIDDEN             				:= 0;
 V_DELETED               				:= 0;
 V_IS_WIDGET             				:= 1;
 V_TENANT_ID             				:= '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2018;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2018;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2018;
 V_NAME                  :=  'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);



 V_SEARCH_ID             :=   2018;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2018;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=     2018;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2019,'Top Hosts by Log Entries','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 hosts by number of log entries',2,1,null,null,null,null,1,null,0,'''Target Type''= ''Host'' | STATS COUNT AS "Log Entries" BY Target | TOP LIMIT=10 "Log Entries"',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2019,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2019,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2019,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2019,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2019,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2019,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2019;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Hosts by Log Entries has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:= 2019;
 V_NAME                                  := 'Top Hosts by Log Entries';
 V_OWNER                 				:= 'ORACLE';
 V_CREATION_DATE           				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:= 'ORACLE';
 V_DESCRIPTION           				:= 'Top 10 hosts by number of log entries';
 V_FOLDER_ID               				:= 2;
 V_CATEGORY_ID            				:= 1;
 V_NAME_NLSID            				:= null;
 V_NAME_SUBSYSTEM        				:= null;
 V_DESCRIPTION_NLSID     				:= null;
 V_DESCRIPTION_SUBSYSTEM 				:= null;
 V_SYSTEM_SEARCH         				:= 1;
 V_EM_PLUGIN_ID          				:= null;
 V_IS_LOCKED             				:= 0;
 V_SEARCH_DISPLAY_STR    				:= '''Target Type''= ''Host'' | STATS COUNT AS "Log Entries" BY Target | TOP LIMIT=10 "Log Entries"';
 V_UI_HIDDEN             				:= 0;
 V_DELETED               				:= 0;
 V_IS_WIDGET             				:= 1;
 V_TENANT_ID             				:= '&TENANT_ID';


 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2019;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2019;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'PIE';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2019;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2019;
 V_NAME                  :=    'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2019;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=     2019;
 V_NAME                  :=    'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2020,'Top Host Log Sources','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 Log Sources for Host Target Type by number of log entries',2,1,null,null,null,null,1,null,0,'''Target Type'' = ''Host'' | stats count as "Log Entries" by ''Log Source'' | top limit = 10 "Log Entries"',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2020,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2020,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2020,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2020,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2020,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2020,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2020;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Host Log Sources has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:= 2020;
 V_NAME                                  := 'Top Host Log Sources';
 V_OWNER                 				:= 'ORACLE';
 V_CREATION_DATE           				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:= SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:= 'ORACLE';
 V_DESCRIPTION           				:= 'Top 10 Log Sources for Host Target Type by number of log entries';
 V_FOLDER_ID               				:= 2;
 V_CATEGORY_ID            				:= 1;
 V_NAME_NLSID            				:= null;
 V_NAME_SUBSYSTEM        				:= null;
 V_DESCRIPTION_NLSID     				:= null;
 V_DESCRIPTION_SUBSYSTEM 				:= null;
 V_SYSTEM_SEARCH         				:= 1;
 V_EM_PLUGIN_ID          				:= null;
 V_IS_LOCKED             				:= 0;
 V_SEARCH_DISPLAY_STR    				:= '''Target Type'' = ''Host'' | stats count as "Log Entries" by ''Log Source'' | top limit = 10 "Log Entries"';
 V_UI_HIDDEN             				:= 0;
 V_DELETED               				:= 0;
 V_IS_WIDGET             				:= 1;
 V_TENANT_ID             				:= '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=    2020;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2020;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'BAR';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2020;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2020;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2020;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2020;
 V_NAME                  :=    'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2021,'Top Commands Run with SUDO','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 most recent commands that are run using SUDO',2,1,null,null,null,null,1,null,0,'''log entity'' like ''/var/log/sudo.log*'' |stats count as ''Execution Count'' by command |top limit=10 ''Execution Count''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2021,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2021,'VISUALIZATION_TYPE_KEY',null,1,'HORIZONTAL_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2021,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HORIBAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2021,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHoriBarChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2021,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2021,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2021;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Commands Run with SUDO has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=  2021;
 V_NAME                                  :=  'Top Commands Run with SUDO';
 V_OWNER                 				:=  'ORACLE';
 V_CREATION_DATE           				:=  SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=  SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=  'ORACLE';
 V_DESCRIPTION           				:=  'Top 10 most recent commands that are run using SUDO';
 V_FOLDER_ID               				:=  2;
 V_CATEGORY_ID            				:=  1;
 V_NAME_NLSID            				:=  null;
 V_NAME_SUBSYSTEM        				:=  null;
 V_DESCRIPTION_NLSID     				:=  null;
 V_DESCRIPTION_SUBSYSTEM 				:=  null;
 V_SYSTEM_SEARCH         				:=  1;
 V_EM_PLUGIN_ID          				:=  null;
 V_IS_LOCKED             				:=  0;
 V_SEARCH_DISPLAY_STR    				:=  '''log entity'' like ''/var/log/sudo.log*'' |stats count as ''Execution Count'' by command |top limit=10 ''Execution Count''';
 V_UI_HIDDEN             				:=  0;
 V_DELETED               				:=  0;
 V_IS_WIDGET             				:=  1;
 V_TENANT_ID             				:=  '&TENANT_ID';

 Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=    2021;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=   2021;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'HORIZONTAL_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2021;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_HORIBAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2021;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHoriBarChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2021;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2021;
 V_NAME                  :=   'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2022,'Top SUDO Users','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Top 10 recent users initiating SUDO requests.',2,1,null,null,null,null,1,null,0,'''Log Entity'' like ''/var/log/sudo.log*''| stats count by ''User Name (Originating)''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2022,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2022,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2022,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2022,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2022,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2022,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2022;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top SUDO Users has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=   2022;
 V_NAME                                  :=   'Top SUDO Users';
 V_OWNER                 				:=   'ORACLE';
 V_CREATION_DATE           				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=   'ORACLE';
 V_DESCRIPTION           				:=   'Top 10 recent users initiating SUDO requests.';
 V_FOLDER_ID               				:=   2;
 V_CATEGORY_ID            				:=   1;
 V_NAME_NLSID            				:=   null;
 V_NAME_SUBSYSTEM        				:=   null;
 V_DESCRIPTION_NLSID     				:=   null;
 V_DESCRIPTION_SUBSYSTEM 				:=   null;
 V_SYSTEM_SEARCH         				:=   1;
 V_EM_PLUGIN_ID          				:=   null;
 V_IS_LOCKED             				:=   0;
 V_SEARCH_DISPLAY_STR    				:=   '''Log Entity'' like ''/var/log/sudo.log*''| stats count by ''User Name (Originating)''';
 V_UI_HIDDEN             				:=   0;
 V_DELETED               				:=   0;
 V_IS_WIDGET             				:=   1;
 V_TENANT_ID             				:=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);


 V_SEARCH_ID             :=   2022;
 V_NAME                  :=   'time';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2022;
 V_NAME                  :=   'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   2;
 V_PARAM_VALUE_STR       :=   '';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2022;
 V_NAME                  :=   'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=    2022;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2022;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=     2022;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2023,'Invalid Host User Login Attempts','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram showing count of attempts to log into an invalid or unknown user account',2,1,null,null,null,null,1,null,0,'''Target Type'' = ''Host'' AND (''invalid user'' OR ''user unknown'')',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2023,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2023,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2023,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2023,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2023,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2023,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2023;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Invalid Host User Login Attempts has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2023;
 V_NAME                                  :=    'Invalid Host User Login Attempts';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram showing count of attempts to log into an invalid or unknown user account';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type'' = ''Host'' AND (''invalid user'' OR ''user unknown'')';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=    2023;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=    2023;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=    2023;
 V_NAME                  :=    'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2023;
 V_NAME                  :=    'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    2;
 V_PARAM_VALUE_STR       :=    '';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2023;
 V_NAME                  :=    'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2023;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2024,'All Linux Package Lifecycle Activities','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Time-based histogram showing count of package changes (install,update,delete) for all packages',2,1,null,null,null,null,1,null,0,'''Log Entity'' LIKE ''/var/log/yum.log*''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2024,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2024,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/results/loganSearchChartsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2024,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganHistogram.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2024,'VISUALIZATION_TYPE_KEY',null,1,'HISTOGRAM',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2024,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2024,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2024;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data All Linux Package Lifecycle Activities has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=    2024;
 V_NAME                                  :=    'All Linux Package Lifecycle Activities';
 V_OWNER                 				:=    'ORACLE';
 V_CREATION_DATE           				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=    SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=    'ORACLE';
 V_DESCRIPTION           				:=    'Time-based histogram showing count of package changes (install,update,delete) for all packages';
 V_FOLDER_ID               				:=    2;
 V_CATEGORY_ID            				:=    1;
 V_NAME_NLSID            				:=    null;
 V_NAME_SUBSYSTEM        				:=    null;
 V_DESCRIPTION_NLSID     				:=    null;
 V_DESCRIPTION_SUBSYSTEM 				:=    null;
 V_SYSTEM_SEARCH         				:=    1;
 V_EM_PLUGIN_ID          				:=    null;
 V_IS_LOCKED             				:=    0;
 V_SEARCH_DISPLAY_STR    				:=    '''Log Entity'' LIKE ''/var/log/yum.log*''';
 V_UI_HIDDEN             				:=    0;
 V_DELETED               				:=    0;
 V_IS_WIDGET             				:=    1;
 V_TENANT_ID             				:=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=   2024;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2024;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/results/loganSearchChartsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);


 V_SEARCH_ID             :=   2024;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganHistogram.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2024;
 V_NAME                  :=  'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  'HISTOGRAM';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
 V_SEARCH_ID             :=   2024;
 V_NAME                  :=   'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   2;
 V_PARAM_VALUE_STR       :=   '';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2024;
 V_NAME                  :=    'time';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2025,'Web Server Top Users By Pages (Excluding Assets)','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Graph of top 10 Top Users for application pages excluding requests for external assets such as images, javascript, css files.',2,1,null,null,null,null,1,null,0,'''Log Source'' LIKE "*Access Logs*" and URI != null and "File Extension" not in ("gif","png","jpg","js","css","swf","ico") and URI not like "*/blank.html" | stats count as "Request Count" by "User Name" |top limit=10 "Request Count"',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2025,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2025,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_BAR',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2025,'TARGET_FILTER',null,2,'',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2025,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganBarChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2025,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2025,'VISUALIZATION_TYPE_KEY',null,1,'BAR',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2025;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Web Server Top Users By Pages (Excluding Assets) has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=     2025;
 V_NAME                                  :=     'Web Server Top Users By Pages (Excluding Assets)';
 V_OWNER                 				:=     'ORACLE';
 V_CREATION_DATE           				:=     SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=     SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=     'ORACLE';
 V_DESCRIPTION           				:=     'Graph of top 10 Top Users for application pages excluding requests for external assets such as images, javascript, css files.';
 V_FOLDER_ID               				:=     2;
 V_CATEGORY_ID            				:=     1;
 V_NAME_NLSID            				:=     null;
 V_NAME_SUBSYSTEM        				:=     null;
 V_DESCRIPTION_NLSID     				:=     null;
 V_DESCRIPTION_SUBSYSTEM 				:=     null;
 V_SYSTEM_SEARCH         				:=     1;
 V_EM_PLUGIN_ID          				:=     null;
 V_IS_LOCKED             				:=     0;
 V_SEARCH_DISPLAY_STR    				:=     '''Log Source'' LIKE "*Access Logs*" and URI != null and "File Extension" not in ("gif","png","jpg","js","css","swf","ico") and URI not like "*/blank.html" | stats count as "Request Count" by "User Name" |top limit=10 "Request Count"';
 V_UI_HIDDEN             				:=     0;
 V_DELETED               				:=     0;
 V_IS_WIDGET             				:=     1;
 V_TENANT_ID             				:=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=  2025;
 V_NAME                  :=  'time';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2025;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_BAR';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2025;
 V_NAME                  :=   'TARGET_FILTER';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   2;
 V_PARAM_VALUE_STR       :=   '';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2025;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganBarChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=    2025;
 V_NAME                  :=    'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=    null;
 V_PARAM_TYPE            :=    1;
 V_PARAM_VALUE_STR       :=    '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=    null;
 V_TENANT_ID             :=    '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=     2025;
 V_NAME                  :=     'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=     null;
 V_PARAM_TYPE            :=     1;
 V_PARAM_VALUE_STR       :=     'BAR';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
--Insert into EMS_ANALYTICS_SEARCH (SEARCH_ID,NAME,OWNER,CREATION_DATE,LAST_MODIFICATION_DATE,LAST_MODIFIED_BY,DESCRIPTION,FOLDER_ID,CATEGORY_ID,NAME_NLSID,NAME_SUBSYSTEM,DESCRIPTION_NLSID,DESCRIPTION_SUBSYSTEM,SYSTEM_SEARCH,EM_PLUGIN_ID,IS_LOCKED,SEARCH_DISPLAY_STR,UI_HIDDEN,DELETED,IS_WIDGET,TENANT_ID)
--values (2026,'Top Host Log Entries by Service','ORACLE',SYS_EXTRACT_UTC(SYSTIMESTAMP),SYS_EXTRACT_UTC(SYSTIMESTAMP),'ORACLE','Distribution of log entries across all monitored hosts by service',2,1,null,null,null,null,1,null,0, '''Target Type''= ''Host'' | STATS COUNT AS ''Log Entries'' BY SERVICE | TOP LIMIT=10 ''Log Entries''',0,0,1,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2026,'VISUALIZATION_TYPE_KEY',null,1,'PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2026,'WIDGET_KOC_NAME',null,1,'LA_WIDGET_PIE',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2026,'WIDGET_TEMPLATE',null,1,'/html/search/widgets/loganPieChart.html',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2026,'WIDGET_VIEWMODEL',null,1,'/js/viewmodel/search/visualization/loganVisStatsViewModel.js',null,'&TENANT_ID');
--Insert into EMS_ANALYTICS_SEARCH_PARAMS (SEARCH_ID,NAME,PARAM_ATTRIBUTES,PARAM_TYPE,PARAM_VALUE_STR,PARAM_VALUE_CLOB,TENANT_ID) values (2026,'time',null,1,'{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}',null,'&TENANT_ID');
  SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_SEARCH WHERE TENANT_ID = '&TENANT_ID' AND SEARCH_ID = 2026;
  IF V_COUNT > 0 THEN
     DBMS_OUTPUT.PUT_LINE('LA WIDGET meta data Top Host Log Entries by Service has been added before, no need to add again for ' || V_TENANT_ID);
  ELSE
 V_SEARCH_ID                          	:=   2026;
 V_NAME                                  :=   'Top Host Log Entries by Service';
 V_OWNER                 				:=   'ORACLE';
 V_CREATION_DATE           				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFICATION_DATE				:=   SYS_EXTRACT_UTC(SYSTIMESTAMP);
 V_LAST_MODIFIED_BY      				:=   'ORACLE';
 V_DESCRIPTION           				:=   'Distribution of log entries across all monitored hosts by service';
 V_FOLDER_ID               				:=   2;
 V_CATEGORY_ID            				:=   1;
 V_NAME_NLSID            				:=   null;
 V_NAME_SUBSYSTEM        				:=   null;
 V_DESCRIPTION_NLSID     				:=   null;
 V_DESCRIPTION_SUBSYSTEM 				:=   null;
 V_SYSTEM_SEARCH         				:=   1;
 V_EM_PLUGIN_ID          				:=   null;
 V_IS_LOCKED             				:=   0;
 V_SEARCH_DISPLAY_STR    				:=    '''Target Type''= ''Host'' | STATS COUNT AS ''Log Entries'' BY SERVICE | TOP LIMIT=10 ''Log Entries''';
 V_UI_HIDDEN             				:=   0;
 V_DELETED               				:=   0;
 V_IS_WIDGET             				:=   1;
 V_TENANT_ID             				:=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH (
SEARCH_ID,
NAME,
OWNER,
CREATION_DATE,
LAST_MODIFICATION_DATE,
LAST_MODIFIED_BY,
DESCRIPTION,
FOLDER_ID,
CATEGORY_ID,
NAME_NLSID,
NAME_SUBSYSTEM,
DESCRIPTION_NLSID,
DESCRIPTION_SUBSYSTEM,
SYSTEM_SEARCH,
EM_PLUGIN_ID,
IS_LOCKED,
SEARCH_DISPLAY_STR,
UI_HIDDEN,
DELETED,
IS_WIDGET,
TENANT_ID)
values (
V_SEARCH_ID,
V_NAME,
V_OWNER,
V_CREATION_DATE  ,
V_LAST_MODIFICATION_DATE,
V_LAST_MODIFIED_BY,
V_DESCRIPTION,
V_FOLDER_ID  ,
V_CATEGORY_ID ,
V_NAME_NLSID,
V_NAME_SUBSYSTEM,
V_DESCRIPTION_NLSID,
V_DESCRIPTION_SUBSYSTEM,
V_SYSTEM_SEARCH,
V_EM_PLUGIN_ID,
V_IS_LOCKED,
V_SEARCH_DISPLAY_STR,
V_UI_HIDDEN,
V_DELETED,
V_IS_WIDGET,
V_TENANT_ID);

 V_SEARCH_ID             :=     2026;
 V_NAME                  :=     'VISUALIZATION_TYPE_KEY';
 V_PARAM_ATTRIBUTES      :=     null;
 V_PARAM_TYPE            :=     1;
 V_PARAM_VALUE_STR       :=     'PIE';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2026;
 V_NAME                  :=   'WIDGET_KOC_NAME';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   'LA_WIDGET_PIE';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=  2026;
 V_NAME                  :=  'WIDGET_VIEWMODEL';
 V_PARAM_ATTRIBUTES      :=  null;
 V_PARAM_TYPE            :=  1;
 V_PARAM_VALUE_STR       :=  '/js/viewmodel/search/visualization/loganVisStatsViewModel.js';
 V_PARAM_VALUE_CLOB      :=  null;
 V_TENANT_ID             :=  '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=   2026;
 V_NAME                  :=   'WIDGET_TEMPLATE';
 V_PARAM_ATTRIBUTES      :=   null;
 V_PARAM_TYPE            :=   1;
 V_PARAM_VALUE_STR       :=   '/html/search/widgets/loganPieChart.html';
 V_PARAM_VALUE_CLOB      :=   null;
 V_TENANT_ID             :=   '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);

 V_SEARCH_ID             :=     2026;
 V_NAME                  :=     'time';
 V_PARAM_ATTRIBUTES      :=     null;
 V_PARAM_TYPE            :=     1;
 V_PARAM_VALUE_STR       :=     '{"type":"relative", "duration":"60", "timeUnit":"MINUTE"}';
 V_PARAM_VALUE_CLOB      :=     null;
 V_TENANT_ID             :=     '&TENANT_ID';

Insert into EMS_ANALYTICS_SEARCH_PARAMS
(
SEARCH_ID,
NAME,
PARAM_ATTRIBUTES,
PARAM_TYPE,
PARAM_VALUE_STR,
PARAM_VALUE_CLOB,
TENANT_ID
) values (
V_SEARCH_ID,
V_NAME,
V_PARAM_ATTRIBUTES,
V_PARAM_TYPE,
V_PARAM_VALUE_STR,
V_PARAM_VALUE_CLOB,
V_TENANT_ID
);
END IF;
 SELECT COUNT(1) INTO  V_COUNT FROM EMS_ANALYTICS_LAST_ACCESS WHERE TENANT_ID = '&TENANT_ID' AND OBJECT_ID >= 2000 AND OBJECT_ID <= 2999;
 IF V_COUNT > 0 THEN
    DBMS_OUTPUT.PUT_LINE('last access data has been added before, no need to add again');
 ELSE
insert into EMS_ANALYTICS_LAST_ACCESS(OBJECT_ID,ACCESSED_BY,OBJECT_TYPE,ACCESS_DATE,TENANT_ID)
select SEARCH_ID,'ORACLE',2,SYS_EXTRACT_UTC(SYSTIMESTAMP),'&TENANT_ID' from EMS_ANALYTICS_SEARCH where search_id>=2000 and search_id<=2999 and TENANT_ID ='&TENANT_ID';
END IF;
  COMMIT;
EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
    DBMS_OUTPUT.PUT_LINE('>>>SSF DML ERROR<<<');
    DBMS_OUTPUT.PUT_LINE('Failed to add LA WIDGET meta data  due to error '||SQLERRM);
    RAISE;
END;
/
